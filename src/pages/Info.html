<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>replit</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>

  <style type="text/css">
.container{
   width: 400px;
   height: 225px;
   display: flex;
   justify-content: center;
   align-items: center;
   flex-direction: column;
   gap: 10px;
   border: 1px solid black;
}



body{
  
  background: rgb(109, 112, 112);
}

img {
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 5px;
  height:auto;
  width: 400px;
}

.displayimage {

  position: absolute;
  left: 2%;
  top: 3%;
  padding: 1px;
  
  color: orange;
  border: none;

   width: auto;
   height: auto;
  
  
  
}

.title{
  
  background: none;
  padding: 1px;
  width: 400px;
 height: 110px;
  text-align: center;
  position: absolute;
  left: 45%;
  top: 2%;

}

.description{
  width: 500px;
  height: 200px;
  
  padding: 25px;
  background-color: rgb(163, 160, 160);
  font-size: 25px;
  border: 2px groove black;
  
  position: absolute;
  left: 40%;
  top: 10%;

  padding: 10px;
}



.review{
  position: absolute;
  left: 40%;
  top: 50%;
  padding: 10px;
}

.review_sub{
  display:flex;
  flex-direction:column;
  font-size: 20px;
}

.reviewbox{
  width: 500px;
  height: 200px;
 
  border: 1px groove black;
}

.submit{
  width: 80px;
  height: 40px;
  background-color: #2b7db4;
  color: white;
  padding: 16px;
  font-size: 16px;
  border: 1px groove black;
  cursor: pointer;
  
}

  .submit:hover, .submit:focus {
  background-color: #1f608b;
}

.category{
  
  background-color: rgb(163, 160, 160);
  border: 1px groove black;
  
  width: 150px;
  height: 80px;
  line-height: 75px;
  padding: 10px;
  position: absolute;
 
  right: 2%;
  top: 5%;
  text-align: center;
  font-size: 30px;
}


    
.price{
  background-color: rgb(163, 160, 160);
  border: 1px groove black;
  
  width: 150px;
  height: 80px;
  line-height: 75px;
  padding: 10px;
  position: absolute;
 
  right: 2%;
  top: 23%;
  text-align: center;
  font-size: 30px;
}





.cart { /* cart style*/
  
  background-color: #2b7db4;
  color: white;
  
  cursor: pointer; /* pointer when hovering cursor */
  
  border: 1px groove black;
  
  width: 150px;
  height: 80px;
  line-height: 60px;
  padding: 10px;
  position: absolute;
 
  right: 2%;
  top: 60%;
  text-align: center;
  font-size: 20px;  
}

.cart:hover, .cart:focus {
  background-color: #1f608b;
}

.reviewelement{
  
  width: 650px;
  height: 200px;
  font-size: 20px;
  background-color: rgb(163, 160, 160);
  border: 1px groove black;
}

.reviewtable{
  
  position: absolute;
  top: 95%;
  left: 40%;
}
.reviewtableform
{
  border-spacing: 15px; /* causes label to be slightly misallighed but makes review elements spaced  */
}

.reviewLabel{
 
  font-size: 20px;
}

</style >



  <body>
    <div id = "display" class = "displayimage" >
     <img id = "DisImage" src= "https://i.pinimg.com/originals/61/54/18/61541805b3069740ecd60d483741e5bb.jpg" alt="placeholder image"
 
    />
    </div>

    <h1 id = "title" class= "title">Item Title</h1>

    <p id = "description" class = "description"> Description box</p>

    <div class ="review">
      <div class= "review_sub">
      <label  for="review">Write a review:</label>
     <textarea class ="reviewbox"  type="text" id="review" name="review" required minlength="10" maxlength="500" ></textarea>
      </div>
     <button class ="submit" id = submit name= "review" >Submit</button>
    </div>

    <button class="cart" id = cart >Add to cart</button>

   

    <div id = "category" class = "category" >
      Category
     
    </div>

    <div id = "price" class = "price" >$00.00 </div>

    <div id ="review" class = "review"></div>

    
    <div id = "ReviewT" class = "reviewtable">
      <label  class = "reviewLabel">Reviews:</label>
    <table id = "revtable" class = "reviewtableform"> </table>
    </div>


<script>


let review = document.getElementById("review");
let ReviewInput = document.getElementById("submit");
let reviewtable = document.getElementById("revtable")

ReviewInput.addEventListener("click", function()
{
  //update table
  let tr = document.createElement("tr");
  let td = document.createElement("td");
  td.textContent = review.value; //set inside td element to review
  td.className = 'reviewelement';
  tr.append(td);
  reviewtable.append(tr);
  // send updated table

  let review1 = {
    review: review.value,
  }
  fetch("/Info", {
		method: "POST",
		headers: {
			"Content-Type": "application/json",
		},
		body: JSON.stringify(review1),
	}).then(function (response) {
		console.log(response.status);
	}).catch(function (error) {
		console.log(error);
	});


});


let button = document.getElementById("cart");
let image = document.getElementById("DisImage");
let Title = document.getElementById("title");
let Description = document.getElementById("description");
let Price = document.getElementById("price");
let Category = document.getElementById("category");


button.addEventListener("click", function() {
	let Item = {  //create item for cart 
		title: Title.value,
    description:  Description.value,
    price: parseFloat(Price.value),
    category: Category.value,
	}
	console.log(ReviewItem);

	fetch("/Info", {
		method: "POST",
		headers: {
			"Content-Type": "application/json",
		},
    body: json.stringify(uploaditem),
	}).then(function (response) {
		console.log(response.status);
	}).catch(function (error) {
		console.log(error);
	});

});

</script>

    <script src="Info.js"></script>
  </body>
</html>