{"ast":null,"code":"var _jsxFileName = \"/Users/neil/Downloads/Game-Website/client/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport HomeTitleBox from \"./homeComponents/HomeTitleBox\";\nimport HomeItemCollection from './homeComponents/HomeItemCollection';\nimport Modal from \"./homeComponents/Modal\";\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { components } from \"react-select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const maxDisplay = 1;\n  const [modal, setModal] = useState(true);\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [lastMes, setLastMes] = useState({\n    mes: 'http://localhost:3001/merchdisplay',\n    prevStarts: [],\n    start: 1,\n    end: 0,\n    para: {\n      start: 1\n    }\n  });\n\n  const getItems = (mes, par) => {\n    console.log(lastMes);\n    axios.get(mes, {\n      params: par\n    }).then(response => {\n      if (response.data.length > 0) {\n        setItems(response.data);\n        setLastMes({\n          mes: lastMes.mes,\n          prevStarts: lastMes.prevStarts,\n          start: lastMes.start,\n          end: response.data[response.data.length - 1].id,\n          para: lastMes.para\n        });\n      } else {\n        setItems([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getItems(lastMes.mes, lastMes.para);\n  }, [page]);\n\n  const previ = () => {\n    const newStart = lastMes.prevStarts.pop();\n\n    if (page !== 1) {\n      let para = {\n        start: newStart\n      };\n\n      if (lastMes.para.hasOwnProperty('name')) {\n        para = {\n          start: newStart,\n          name: lastMes.para.name,\n          category: lastMes.para.category\n        };\n      }\n\n      setLastMes({\n        mes: lastMes.mes,\n        prevStarts: lastMes.prevStarts,\n        start: newStart,\n        end: lastMes.end,\n        para: para\n      });\n      setPage(page - 1);\n    }\n  };\n\n  const next = () => {\n    if (items.length === maxDisplay) {\n      let para = {\n        start: lastMes.end + 1\n      };\n\n      if (lastMes.para.hasOwnProperty('name')) {\n        para = {\n          start: lastMes.end + 1,\n          name: lastMes.para.name,\n          category: lastMes.para.category\n        };\n      }\n\n      setLastMes({\n        mes: lastMes.mes,\n        prevStarts: [...lastMes.prevStarts, lastMes.start],\n        start: lastMes.end + 1,\n        end: lastMes.end,\n        para: para\n      });\n      setPage(page + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [modal && /*#__PURE__*/_jsxDEV(Modal, {\n      setModalet: setModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(HomeTitleBox, {\n      setItems: setItems,\n      setLastMes: setLastMes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemOuterBox\",\n      children: [/*#__PURE__*/_jsxDEV(HomeItemCollection, {\n        items: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pageTurn\",\n        onClick: previ,\n        children: \"Previous Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), page, /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pageTurn\",\n        onClick: next,\n        children: \"Next Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"xK+IAsAGaLHgs4Jzpcc77TSNNVA=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/neil/Downloads/Game-Website/client/src/pages/Home.js"],"names":["HomeTitleBox","HomeItemCollection","Modal","useState","useEffect","axios","components","Home","maxDisplay","modal","setModal","items","setItems","page","setPage","lastMes","setLastMes","mes","prevStarts","start","end","para","getItems","par","console","log","get","params","then","response","data","length","id","previ","newStart","pop","hasOwnProperty","name","category","next"],"mappings":"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","sourcesContent":["import HomeTitleBox from \"./homeComponents/HomeTitleBox\";\nimport HomeItemCollection from './homeComponents/HomeItemCollection';\nimport Modal from \"./homeComponents/Modal\";\nimport { useState, useEffect } from 'react'\nimport axios from \"axios\";\nimport { components } from \"react-select\";\n\nfunction Home() {\n  const maxDisplay = 1;\n  const [modal, setModal] = useState(true);\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [lastMes, setLastMes] = useState({\n    mes : 'http://localhost:3001/merchdisplay',\n    prevStarts : [],\n    start : 1,\n    end : 0,\n    para : {\n      start : 1,\n    }\n  });\n\n  const getItems = (mes, par) => {\n    console.log(lastMes);\n    axios.get(mes, {\n      params: par\n    }).then((response) => {\n      if (response.data.length > 0) {\n        setItems(response.data);\n        setLastMes(\n          {\n            mes : lastMes.mes,\n            prevStarts : lastMes.prevStarts,\n            start : lastMes.start,\n            end : response.data[response.data.length - 1].id,\n            para : lastMes.para,\n          }\n        );\n      } else {\n        setItems([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getItems(lastMes.mes, lastMes.para);\n  },[page]);\n\n  const previ = () => {\n    const newStart = lastMes.prevStarts.pop();\n\n    if (page !== 1) {\n      let para = {start : newStart};\n      if (lastMes.para.hasOwnProperty('name')) {\n        para = {\n          start : newStart,\n          name : lastMes.para.name,\n          category : lastMes.para.category\n        };\n      }\n      \n      setLastMes(\n        {\n          mes : lastMes.mes,\n          prevStarts : lastMes.prevStarts,\n          start : newStart,\n          end : lastMes.end,\n          para : para\n        }\n      );\n      setPage(page-1);\n    }\n  };\n\n  const next = () => {\n    if (items.length === maxDisplay) {\n      let para = {start : lastMes.end + 1};\n      if (lastMes.para.hasOwnProperty('name')) {\n        para = {\n          start : lastMes.end + 1,\n          name : lastMes.para.name,\n          category : lastMes.para.category\n        };\n      }\n      setLastMes(\n        {\n          mes : lastMes.mes,\n          prevStarts : [...lastMes.prevStarts, lastMes.start],\n          start : lastMes.end + 1,\n          end : lastMes.end,\n          para : para\n        }\n      );\n      setPage(page+1);\n    }\n  };\n\n  return (\n    <div>\n      {modal && <Modal setModalet={setModal} />}\n      <HomeTitleBox setItems={setItems} setLastMes={setLastMes}/>\n      <div className='itemOuterBox'>\n      <HomeItemCollection items={items}/>\n        <button className='pageTurn' onClick={previ}>Previous Page</button>\n        {page}\n        <button className='pageTurn' onClick={next}>Next Page</button>\n    </div>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}